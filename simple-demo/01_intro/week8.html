<!DOCTYPE html>
<html lang="en">
<head>
  <title>PHYSCI 70: Intro to Digital Fabrication </title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link href="../style.css" rel="stylesheet">
</head>
<body>

  <nav class="navbar navbar-inverse navbar-fixed-top text-center" id ='navigation'>
    <div class = "container-fluid" >
      <ul class="nav navbar-nav">
        <li class="active"><a href="../index.html">Home</a></li>
        <li><a href="../aboutme.html">About Me</a></li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">Projects<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../01_intro/index.html">Week 1</a></li>
            <li><a href="../01_intro/week2.html">Week 2</a></li>
            <li><a href="../01_intro/week3.html">Week 3</a></li>
            <li><a href="../01_intro/week4.html">Week 4</a></li>
            <li><a href="../01_intro/week5.html">Week 5</a></li>
            <li><a href="../01_intro/week6.html">Week 6</a></li>
            <li><a href="../01_intro/week7.html">Week 7</a></li>
            <li><a href="../01_intro/week8.html">Week 8</a></li>
            <li><a href="../01_intro/projectproposal.html">Project Proposal</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>



<div class="container-fluid" id = "weekone">
  <br><h2><b>Week 8: Networking and Communication</b></h2>
  <div class="row">
      <img src="./wiredon.jpg" class="img-responsive-margin" style="width:35%" alt="Image of Simple Circuit">

      <div class = "content">
          <br><h3><b>Objectives:</b></h3>
            <ul>
              <li> Make two boards talk to each other to power an output device </li>
            </ul>
      </div>

      <div id = "exploration">
        <br><h2><b>The Boards</b></h2>
        <p>For this week, my goal was to have two board work together to light up an LED when a button is 
            pressed. Since I couldn't find my ItsyBitsy, I had to use a feather Huzzah ESP32 instead alongside
            a small green ATSAMD11 board. Because I was using the feather, I had to download the appropriate
            board from online to use with the Arduino IDE.
        </p>
        <img src = "./atsamd11.jpg" class = "img-responsive-margin" style="width:20%" alt="Image of the circuit"> 
        <img src = "./feather.jpg" class = "img-responsive-margin" style="width:20%" alt="Image of the circuit">
        <p> I also planned to use a wired serial connection to make the boards communicate asynchrously.</p>
        <br><h2>Circuit Schematic</h2>
        <p>Here is the schematic which shows how the circuit was constructed. The box on the left is the 
            ATSAMD11 board and the box on the right is the feather Huzzah ESP32 board. These boards share a 
            common ground and the feather is powered by the ATSAMD11. The ATSAMD11 acts as the transmitter 
        </p>
        <img src = "./wiredschematic.png" class = "img-responsive-margin" style="width:60%" alt="Image of the circuit">

        <p> Here is what my circuit looks like when built:</p>
        <img src = "./wiredbuild.jpg" class = "img-responsive-margin" style="width:80%" alt="Image of the circuit">
        <br><h2>Code</h2>
        <p>The code was a bit troublesome for this as I kept running into syntax errors. I tried to have
            the transmitter send 'zero' when the button wasn't pressed and 'one' when it was through 
            the serial1 port. However I used the integer type 'char' so it only sent 'e' and 'o' the last
            characters of 'one' and 'zero'. This made me think there was something wrong with my receiver
            when in fact I just need to change the if/else statement in the receiver code to look
            for 'e' and 'o' instead of 'zero' and 'one'. I also noticed when I got it to work that when 
            the button wasn't pressed, the light would flick on and off rapidly. I noticed when I was
            touching the ATSAMD11 board, this problem was mitigated which seems to me like there was
            a grounding error somewhere. 
        </p>
        <p> Here is the code for the transmitter (ATSAMD11):</p>
        <img src = "./transmitter.png" class = "img-responsive-margin" style="width:80%" alt="Image of the circuit">
        <br>
        <p>Here is the code for the receiver (feather Huzzah ESP32):</p>
        <img src = "./receiver.png" class = "img-responsive-margin" style="width:80%" alt="Image of the circuit">
        <br><h2>In Action</h2>
        <p>Here is a video demonstrating successful wired serial connection with an LED: </p>
        <br><iframe width="640" height="360" src="https://www.youtube.com/embed/w5OtxhCen5g" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
        <br><p><a href='../index.html'>Return home</a></p>
   
  </div>

 
  
  
</div>

</body>
</html>